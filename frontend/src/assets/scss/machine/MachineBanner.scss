@use "../style" as *;
@import url('https://fonts.googleapis.com/css2?family=Orbitron:wght@600&family=Audiowide&family=VT323&display=swap');

:root {
  --mint: #8BF3FF;
  --white: #EFFFFF;
  --bg-dark: #02070d;
  --bg-glass: rgba(8, 20, 28, 0.6);
}

/* ===== Ï†ÑÏ≤¥ Ïª®ÌÖåÏù¥ÎÑà ===== */
.machine-banner-container {
  width: 100%;
  max-width: 1200px;
  height: 100%;
  font-family: 'Audiowide', sans-serif;
  color: var(--white);
  font-weight: 500;
  position: relative;
  overflow: hidden;

  /* üí† CRT + Glass ÏßàÍ∞ê */
  background: radial-gradient(circle at 50% 50%, #06121a 0%, var(--bg-dark) 100%);
  border-radius: clamp(16px, 2vw, 24px);
  box-shadow: 0 0 40px rgba(139, 243, 255, 0.1);

  &::before {
    content: "";
    position: absolute;
    inset: 0;
    background: repeating-linear-gradient(
      0deg,
      rgba(255, 255, 255, 0.02) 0px,
      rgba(255, 255, 255, 0.015) 1px,
      transparent 2px
    );
    opacity: 0.15;
    pointer-events: none;
  }

  .carousel {
    height: 100%;
    border-radius: inherit;
    border: 1.5px solid rgba(139, 243, 255, 0.3);
    overflow: hidden;

    .banner-slide {
      padding: clamp(20px, 2vw, 36px);
      height: clamp(250px, 28vh, 400px);
      background: var(--bg-glass);
      backdrop-filter: blur(14px);
      border-radius: inherit;
      position: relative;
      overflow: hidden;
      @include flex_center;
      transition: all 0.4s ease-in-out;

      /* üí´ ÏÇ¥Ïßù Í∏ÄÎ¶¨Ïπò ÌùîÎì§Î¶º */
      animation: subtleGlitch 4s infinite ease-in-out;
      @keyframes subtleGlitch {
        0%, 100% { transform: translate(0, 0); filter: brightness(1); }
        45% { transform: translate(-0.5px, 0.5px); filter: brightness(1.1); }
        50% { transform: translate(0.5px, -0.5px); filter: brightness(1.2); }
      }

      .banner-contents {
        height: 100%;
        display: grid;
        align-items: center;
        width: min(90%, 1100px);
        grid-template-columns: minmax(120px, 1fr) minmax(200px, 2fr) minmax(120px, 1fr);
        grid-template-rows: auto 1fr 1fr auto;
        gap: clamp(8px, 1vw, 16px);
        position: relative;

        h3 {
          grid-column: 1 / -1;
          font-size: clamp(1.4rem, 2.8vw, 2rem);
          text-align: center;
          letter-spacing: 1px;
          color: var(--mint);
          text-shadow: 0 0 8px var(--mint);
        }

        .machine-avatar {
          justify-self: center;
          grid-row: 2 / 4;
          width: clamp(90px, 9vw, 140px);
          height: clamp(90px, 9vw, 140px);
          border: 1.5px solid var(--mint);
          background-color: rgba(139, 243, 255, 0.08);
          box-shadow: 0 0 20px rgba(139, 243, 255, 0.2);
          transition: all 0.3s ease-in-out;
          font-size: 2.2rem;
          color: var(--mint);

          &:hover {
            box-shadow: 0 0 28px var(--mint);
            transform: scale(1.05);
          }
        }

        .machine-info-center {
          grid-column: 2;
          grid-row: 2 / 4;
          display: flex;
          flex-direction: column;
          justify-content: center;
          gap: clamp(8px, 1vh, 12px);

          h4 {
            font-size: clamp(1.8rem, 3.5vw, 2.5rem);
            color: var(--white);
            text-shadow: 0 0 10px rgba(139, 243, 255, 0.3);
            font-weight: 600;
            transition: text-shadow 0.3s ease;
            margin: 0;
          }

          .machine-category {
            font-size: clamp(1rem, 1.8vw, 1.3rem);
            color: rgba(139, 243, 255, 0.8);
            text-shadow: 0 0 6px rgba(139, 243, 255, 0.2);
            margin: 0;
            font-weight: 400;
          }
        }

        .machine_reward_box {
          grid-column: 3;
          grid-row: 2 / 4;
          justify-self: center;
          display: flex;
          flex-direction: column;
          align-items: center;
          justify-content: center;
          background: rgba(8, 20, 28, 0.6);
          border: 1.5px solid rgba(139, 243, 255, 0.3);
          border-radius: 8px;
          width: min(85%, 200px);
          height: clamp(75px, 10vh, 85px);
          box-shadow: 0 0 10px rgba(139, 243, 255, 0.1);

          .banner-exp {
            color: var(--white);
            font-size: clamp(1rem, 1.5vw, 1.2rem);
          }
          .exp {
            color: var(--mint);
            font-size: clamp(1.3rem, 2vw, 1.5rem);
            font-weight: bold;
            text-shadow: 0 0 6px var(--mint);
          }
        }

        /* ‚úÖ ÏàòÏ†ïÎêú Î∂ÄÎ∂Ñ ÏãúÏûë */
        .rating-box {
          grid-column: 2;
          grid-row: 3.1; /* ÏïàÏ†ïÏ†ÅÏù∏ ÏúÑÏπòÎ°ú Ï°∞Ï†ï */
          display: flex;
          align-items: center;
          gap: 10px;
          color: var(--mint);
          margin-top: -23px; /* ÏúÑÎ°ú ÏÇ¥Ïßù Ïù¥Îèô */
          z-index: 2;
          transition: transform 0.25s ease, margin 0.25s ease;

          .rating-text {
            font-size: clamp(1.2rem, 2vw, 1.4rem);
            text-shadow: 0 0 6px var(--mint);
          }
        }

        .go-to-machine-btn {
          grid-column: 3;
          grid-row: 3.1; /* Í∞ôÏùÄ ÎùºÏù∏ÏúºÎ°ú Ïù¥Îèô */
          justify-self: center;
          background: transparent;
          color: var(--mint);
          border: 1.5px solid var(--mint);
          border-radius: 6px;
          font-size: clamp(1rem, 1.5vw, 1.2rem);
          font-family: 'VT323', monospace;
          letter-spacing: 1px;
          padding: clamp(10px, 1.5vh, 14px) clamp(24px, 3vw, 32px);
          cursor: pointer;
          transition: all 0.25s ease;
          box-shadow: 0 0 10px rgba(139, 243, 255, 0.15);
          margin-top: -30px; /* ÏúÑÎ°ú Ïù¥Îèô */
          z-index: 2;

          &:hover {
            background: rgba(139, 243, 255, 0.08);
            box-shadow: 0 0 20px var(--mint);
            transform: translateY(-6px);
          }
        }
        /* ‚úÖ ÏàòÏ†ïÎêú Î∂ÄÎ∂Ñ ÎÅù */
      }
    }
  }
}

/* ===== ÎÑ§Ïò® Ï†êÎ©∏ Ìö®Í≥º ===== */
@keyframes mintPulse {
  0%, 100% { box-shadow: 0 0 10px var(--mint); }
  50% { box-shadow: 0 0 25px var(--mint); }
}