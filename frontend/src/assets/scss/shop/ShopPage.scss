/* src/assets/scss/Shop/ShopPage.scss */

/* ---- 색 토큰(있으면 사용, 없으면 폴백) ---- */
:root {
  --bg: #000;                       /* 배경 */
  --surface: #0b0f16;               /* 카드 베이스 */
  --ink: #e6f7ff;                   /* 본문 텍스트 */
  --muted: #9cc7d8;                 /* 보조 텍스트 */
  --cyan: #00f5ff;                  /* 네온 시안 */
  --magenta: #c400ff;               /* 네온 마젠타 */
  --ring: rgba(0, 245, 255, .25);   /* 아우라 */
}

/* ---- 페이지 컨테이너 ---- */
.shop-page {
  position: relative;
  padding: 32px 24px 64px;
  min-height: 100%;
  color: var(--ink);
  background:
    radial-gradient(1200px 600px at 80% -10%, rgba(0,245,255,.12), transparent 60%),
    radial-gradient(900px 500px at 10% 110%, rgba(196,0,255,.12), transparent 65%),
    #000;

  /* 네온 그리드 오버레이 */
  &::before {
    content: "";
    position: absolute; inset: 0;
    background:
      repeating-linear-gradient(
        to right,
        rgba(0,245,255,.06) 0px,
        rgba(0,245,255,.06) 1px,
        transparent 1px,
        transparent 24px
      ),
      repeating-linear-gradient(
        to bottom,
        rgba(196,0,255,.05) 0px,
        rgba(196,0,255,.05) 1px,
        transparent 1px,
        transparent 24px
      );
    pointer-events: none;
    mix-blend-mode: screen;
    opacity: .5;
    animation: gridPulse 6s ease-in-out infinite;
  }

  /* 스캔라인 + 노이즈 */
  &::after {
    content: "";
    position: absolute; inset: 0;
    background:
      linear-gradient(transparent 97%, rgba(255,255,255,.06) 98%, transparent 100%),
      repeating-linear-gradient(to bottom, transparent 0px, transparent 3px, rgba(255,255,255,.03) 3px, rgba(255,255,255,.03) 4px);
    background-size: 100% 100%, 100% 4px;
    opacity: .35;
    mix-blend-mode: soft-light;
    pointer-events: none;
    animation: scan 5.5s linear infinite;
  }
}

/* ---- 타이틀 ---- */
.shop-title {
  position: relative;
  display: inline-block;
  font-size: clamp(24px, 3.2vw, 40px);
  letter-spacing: .02em;
  margin: 0 0 20px;
  text-shadow:
    0 0 8px rgba(0,245,255,.6),
    0 0 18px rgba(196,0,255,.4);
  &::after {
    /* 네온 언더라인 */
    content: "";
    display: block;
    height: 3px;
    margin-top: 10px;
    background:
      linear-gradient(90deg, rgba(0,245,255,.9), rgba(196,0,255,.9));
    box-shadow:
      0 0 12px rgba(0,245,255,.6),
      0 0 12px rgba(196,0,255,.6);
    border-radius: 6px;
    transform-origin: left;
    animation: underlineGlow 2.2s ease-in-out infinite;
  }
}

/* ---- 상태 표시 ---- */
.shop-skeleton,
.shop-empty {
  background: linear-gradient(180deg, rgba(255,255,255,.05), rgba(255,255,255,.02));
  border: 1px solid rgba(255,255,255,.08);
  border-radius: 14px;
  padding: 24px;
  margin-top: 16px;
  color: var(--muted);
}

/* ---- 그리드 ---- */
.shop-grid {
  position: relative;
  display: grid;
  gap: 18px;
  grid-template-columns: repeat(auto-fill, minmax(260px, 1fr));
  margin-top: 16px;
}

/* ---- 카드 ---- */
.shop-card {
  position: relative;
  border-radius: 16px;
  padding: 12px;
  background:
    linear-gradient(var(--surface), var(--surface)) padding-box,
    conic-gradient(from 140deg, rgba(0,245,255,.55), rgba(196,0,255,.55)) border-box;
  border: 1px solid transparent;
  box-shadow:
    0 0 0 1px rgba(255,255,255,.06) inset,
    0 10px 25px rgba(0,0,0,.55);
  transition: transform .18s ease, box-shadow .18s ease, filter .18s ease;

  @supports (backdrop-filter: blur(6px)) {
    background:
      linear-gradient(rgba(13,18,30,.66), rgba(13,18,30,.66)) padding-box,
      conic-gradient(from 140deg, rgba(0,245,255,.45), rgba(196,0,255,.45)) border-box;
    backdrop-filter: blur(6px);
  }

  &:hover {
    transform: translateY(-4px);
    box-shadow:
      0 0 22px rgba(0,245,255,.18),
      0 0 28px rgba(196,0,255,.12),
      0 14px 32px rgba(0,0,0,.7);
    .shop-card__title {
      text-shadow: 0 0 10px rgba(0,245,255,.6);
    }
    .shop-card__buy {
      box-shadow: 0 0 16px var(--ring);
    }
  }
}

.shop-card__img {
  width: 100%;
  height: 164px;
  object-fit: cover;
  border-radius: 10px;
  display: block;
  margin-bottom: 10px;
  /* 위에서 아래로 가는 은은한 페이드 마스크 */
  -webkit-mask-image: linear-gradient(#000, rgba(0,0,0,.9) 80%, rgba(0,0,0,.7));
          mask-image: linear-gradient(#000, rgba(0,0,0,.9) 80%, rgba(0,0,0,.7));
}

.shop-card__body {
  display: grid;
  gap: 8px;
}

.shop-card__title {
  font-size: 1.05rem;
  font-weight: 700;
  letter-spacing: .02em;
}

.shop-card__desc {
  color: var(--muted);
  font-size: .9rem;
  min-height: 40px;
}

.shop-card__footer {
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 12px;
  margin-top: 6px;
}

/* ---- 가격/버튼 ---- */
.shop-card__price {
  display: inline-flex;
  align-items: center;
  gap: 8px;
  padding: 6px 10px;
  border-radius: 999px;
  font-weight: 700;
  letter-spacing: .02em;
  background:
    linear-gradient(180deg, rgba(0,245,255,.16), rgba(0,245,255,.06));
  border: 1px solid rgba(0,245,255,.35);
  box-shadow:
    inset 0 0 14px rgba(0,245,255,.18),
    0 0 12px rgba(0,245,255,.15);
}

.shop-card__buy {
  position: relative;
  isolation: isolate;
  padding: 10px 14px;
  border-radius: 10px;
  font-weight: 700;
  letter-spacing: .02em;
  border: 1px solid transparent;
  color: #06161d;
  background:
    linear-gradient(#b6fff9, #9ff1ff) padding-box,
    linear-gradient(90deg, rgba(0,245,255,.9), rgba(196,0,255,.9)) border-box;
  transition: transform .15s ease, box-shadow .15s ease, filter .15s ease;

  &:hover { transform: translateY(-1px); }
  &:active { transform: translateY(0); filter: brightness(.95); }

  &:disabled {
    cursor: not-allowed;
    opacity: .75;
    filter: grayscale(.15);
    background:
      linear-gradient(#a9e8e3, #90dbe8) padding-box,
      linear-gradient(90deg, rgba(0,245,255,.5), rgba(196,0,255,.5)) border-box;
  }

  /* 네온 링 */
  &::after {
    content: "";
    position: absolute; inset: -8px;
    border-radius: inherit;
    box-shadow: 0 0 24px rgba(0,245,255,.35);
    opacity: 0;
    z-index: -1;
    transition: opacity .2s ease;
  }
  &:hover::after { opacity: 1; }
}

/* ---- 애니메이션 ---- */
@keyframes gridPulse {
  0%, 100% { opacity: .45; filter: hue-rotate(0deg); }
  50%      { opacity: .6;  filter: hue-rotate(20deg); }
}
@keyframes scan {
  0% { background-position-y: -200%; }
  100% { background-position-y: 200%; }
}
@keyframes underlineGlow {
  0%,100% { box-shadow: 0 0 12px rgba(0,245,255,.6), 0 0 12px rgba(196,0,255,.6); }
  50%     { box-shadow: 0 0 20px rgba(0,245,255,.9), 0 0 20px rgba(196,0,255,.9); }
}

/* ---- 반응형 튜닝 ---- */
@media (max-width: 640px) {
  .shop-page { padding: 20px 16px 48px; }
  .shop-grid { gap: 14px; grid-template-columns: 1fr 1fr; }
  .shop-card__img { height: 132px; }
}
@media (max-width: 420px) {
  .shop-grid { grid-template-columns: 1fr; }
}
