/* 화면 중앙 정렬 */
.manual-viewport {
  --header-h: 64px;                 /* ★ 세미콜론 추가 확인 */
  --top-gap: var(--header-h);       /* ★ 헤더 높이와 동일하게 사용 */
  --left-gap: 80px;                 /* 좌측(사이드바) 여유 */
  --right-gap: 50px;                /* 우측 여유 */
  --lift: -6vh;                     /* 프레임을 위로 올리기(음수↑/양수↓) */
  --shift-x: -0.7vw;                /* ★ 프레임을 왼/오 이동(음수=왼쪽, 양수=오른쪽) */

  min-height: calc(100vh - var(--top-gap));
  padding-left: var(--left-gap);
  padding-right: var(--right-gap);
  display: flex;
  align-items: center;
  justify-content: center;
}

/* ⬇️ 사이드바 펼침 시 왼쪽 여유만 키우기 + 이동량은 조금 줄임(선택) */
html.sidebar-open .manual-viewport {        /* ★ 추가 */
  --left-gap: 330px;                        /* 사이드바 펼친 폭 */
  --shift-x: -1.25vw;                       /* ★ 펼친 상태에선 덜 이동 */
}

/* 프레임(원본 PNG 비율 1556:768 유지, 화면 꽉 차게) */
.manual-border-frame {
  position: relative;
  width: min(
    calc(100vw - var(--left-gap) - var(--right-gap)),
    calc((100vh - var(--top-gap)) * (1556 / 768))
  );
  aspect-ratio: 1556 / 768;
  height: auto;
  background: center / contain no-repeat transparent;
  overflow: hidden;
  isolation: isolate;
  transform: translate(var(--shift-x), var(--lift));  /* ★ 가로/세로 동시 이동 */
}

.frame-inner {
  position: absolute;
  inset: 0;
  padding: 2rem;
  box-sizing: border-box;
}

/* 라벨 */
.label {
  position: absolute;
  color: #e6f7ff;
  text-shadow: 0 0 6px rgba(0,255,255,.25);
  pointer-events: none;
  font-weight: 600;
  letter-spacing: .02em;
}
.manual-title {
  top: 2.8%;
  left: 50%;
  transform: translateX(-50%);
  font-size: clamp(18px, 2.4vw, 30px);
}
.guide-title {
  top: 16.5%;
  left: 50%;
  transform: translate(-50%, -50%);
  font-size: clamp(17px, 2vw, 47px);
}

/* 언어 토글 */
.language-toggle {
  position: absolute;
  top: 2rem; right: 2rem;
  padding: .55rem 1.2rem;
  color: #cfffff;
  font-size: .95rem;
  border: 2px solid #00ffff;
  border-radius: 10px;
  background: rgba(0,0,0,.5);
  box-shadow: 0 0 12px #00ffff;
  text-shadow: 0 0 8px #00ffff;
  z-index: 20;
}

/* 벡터 공통 */
.vector {
  position: absolute;
  transform: translate(-50%, -50%);
  object-fit: contain;
  pointer-events: none;
  z-index: 4;
  filter: drop-shadow(0 0 6px rgba(0,255,255,.15));
}

/* 위치/크기 */
.vector.v1, .vector.v2 {
  width: 26%;
  aspect-ratio: 10 / 7;
  height: auto;
}
.vector.v1 { left: 20%; top: 30%; }
.vector.v2 { left: 20%; top: 71%; }

.vector.v3 {
  left: 50%;
  top: 50%;
  width: 24%;
  aspect-ratio: 9 / 16;
  height: auto;
}

.vector.v4 {
  left: 82%;
  top: 53%;
  width: 35%;
  aspect-ratio: 4 / 3;
  height: auto;
}

/* 하단 Tutorial 버튼 */
.tutorial-cta {
  position: absolute;
  left: 50%;
  bottom: 3%;
  transform: translateX(-50%);
  width: 20%;
  min-width: 240px;
  padding: 0.9rem 1rem;
  text-align: center;
  border-radius: 16px;
  background: #66f0f2;
  color: #0b0f14;
  font-weight: 800;
  font-size: clamp(14px, 1.4vw, 20px);
  text-decoration: none;
  box-shadow: 0 0 26px rgba(191, 120, 255, .35),
              0 0 16px rgba(102, 240, 242, .5) inset;
  transition: transform .15s ease, box-shadow .15s ease, filter .15s ease;
  z-index: 10;
}
.tutorial-cta:hover {
  transform: translateX(-50%) translateY(-2px);
  box-shadow: 0 0 36px rgba(191,120,255,.45),
              0 0 22px rgba(102,240,242,.7) inset;
  filter: brightness(1.05);
}

/* 작은 화면에서 여백만 축소 */
@media (max-width: 900px) {
  .frame-inner { padding: 1rem; }
}

.box-label {
  position: absolute;
  transform: translate(-50%, -50%);
  width: 26%;                 /* v1/v2 박스 폭과 동일 */
  text-align: center;
  color: #fff;
  font-weight: 800;
  font-size: clamp(26px, 3.8vw, 72px);  /* 스샷처럼 큼직하게 */
  letter-spacing: .02em;
  text-shadow: 0 0 12px rgba(0,255,255,.3), 0 0 2px rgba(0,0,0,.6);
  z-index: 6;
  pointer-events: none;
}
.box-label.v1 { left: 20%; top: 30%; }
.box-label.v2 { left: 20%; top: 71%; }
.rules-title { display: none !important; }

/* 게임 소개 박스 클릭 핫스팟 (투명 링크) */
.hotspot {
  position: absolute;
  display: block;
  transform: translate(-50%, -50%);
  z-index: 8;            /* 벡터와 라벨 위에서 클릭 받기 */
  cursor: pointer;
  background: transparent;
  outline: none;
}

/* v1: 좌측 상단 박스 영역과 똑같이 덮어씌움 */
.hotspot.v1 {
  left: 20%;
  top: 30%;
  width: 26%;
  aspect-ratio: 10 / 7;
}

.hotspot:focus-visible {
  box-shadow: 0 0 0 3px rgba(102,240,242,.8);
  border-radius: 14px;
}

